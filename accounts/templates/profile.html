{% extends "base.html" %}
{% load static %}

{% block title %}
  {{ profile.user.first_name }} {{ profile.user.last_name }}
{% endblock %}

{% block extra_css %}
  <link rel="stylesheet" href="{% static 'css/profile.css' %}">
{% endblock %}

{% block extra_js %}
  <script src="{% static 'js/profile.js' %}"></script>
{% endblock %}

{% block body %}
<!-- Profile Details Section Begin -->
<section class="profile-details py-5 bg-light">
  <div class="container">
    <div class="row">
      <!-- Profile Image Section -->
      <div class="col-lg-4 col-md-6 mb-4">
        <div class="profile-img text-center">
          {% if profile.img %}
            <img src="{{ profile.img.url }}" alt="Profile Image" class="img-fluid rounded-circle profile-image" />
          {% else %}
            <img src="{% static 'images/default-profile.png' %}" alt="Default Profile Image" class="img-fluid rounded-circle profile-image" />
          {% endif %}
        </div>
      </div>

      <!-- Profile Information Section -->
      <div class="col-lg-8 col-md-6">
        <div class="profile-info card shadow-sm p-4">
          <h3 class="mb-3">{{ profile.user.first_name }} {{ profile.user.last_name }}</h3>
          <p><strong>Email:</strong> {{ profile.user.email }}</p>
          <p><strong>Username:</strong> {{ profile.user.username }}</p>
          <p><strong>Bio:</strong> {{ profile.bio|safe }}</p>
          <p><strong>Member Since:</strong> {{ profile.user.date_joined|date:"F j, Y" }}</p>
          <p><strong>Balance:</strong> ${{ profile.balance|safe }}</p>

          {% if profile.user == request.user %}
          <div class="mt-4 d-flex gap-2 flex-wrap">
            <a href="{% url 'accounts:profile_edit' %}" class="btn btn-secondary">Edit Profile</a>
            <a href="{% url 'accounts:del_account' profile.slug %}" class="btn btn-danger">Delete Account</a>
          </div>
          {% endif %}
        </div>
      </div>
    </div>

    </div>
  </div>
</section>
<!-- Profile Details Section End -->
{% endblock %}